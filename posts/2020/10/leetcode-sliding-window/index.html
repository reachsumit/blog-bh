<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Effective LeetCode: Understanding the Sliding Window Pattern - Sumit&#39;s Diary</title><meta name="Description" content="Identifying patterns among questions is quite an effective strategy when you are grinding LeetCode in preparation for your upcoming software engineering interviews. In this article, you will develop intuitions about Sliding Window pattern. You will also get a template approach to write code to solve these problems. I will also walk you through some LeetCode questions to show how to apply the template and at the end, there will be some LeetCode exercises for you to practice what you learn."><meta property="og:title" content="Effective LeetCode: Understanding the Sliding Window Pattern" />
<meta property="og:description" content="Identifying patterns among questions is quite an effective strategy when you are grinding LeetCode in preparation for your upcoming software engineering interviews. In this article, you will develop intuitions about Sliding Window pattern. You will also get a template approach to write code to solve these problems. I will also walk you through some LeetCode questions to show how to apply the template and at the end, there will be some LeetCode exercises for you to practice what you learn." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" />
<meta property="og:image" content="https://blog.reachsumit.com/logo.png"/>
<meta property="article:published_time" content="2020-10-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-10-29T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.reachsumit.com/logo.png"/>

<meta name="twitter:title" content="Effective LeetCode: Understanding the Sliding Window Pattern"/>
<meta name="twitter:description" content="Identifying patterns among questions is quite an effective strategy when you are grinding LeetCode in preparation for your upcoming software engineering interviews. In this article, you will develop intuitions about Sliding Window pattern. You will also get a template approach to write code to solve these problems. I will also walk you through some LeetCode questions to show how to apply the template and at the end, there will be some LeetCode exercises for you to practice what you learn."/>
<meta name="application-name" content="Sumit&#39;s Diary">
<meta name="apple-mobile-web-app-title" content="Sumit&#39;s Diary"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/img/avatar/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" /><link rel="prev" href="https://blog.reachsumit.com/posts/2020/07/twitter-search-redesign/" /><link rel="next" href="https://blog.reachsumit.com/posts/2020/12/generating-empathetic-responses/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Effective LeetCode: Understanding the Sliding Window Pattern",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/blog.reachsumit.com\/posts\/2020\/10\/leetcode-sliding-window\/"
        },"image": ["https:\/\/blog.reachsumit.com\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "leetcode, algorithms","wordcount":  2828 ,
        "url": "https:\/\/blog.reachsumit.com\/posts\/2020\/10\/leetcode-sliding-window\/","datePublished": "2020-10-26T00:00:00+00:00","dateModified": "2020-10-29T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/blog.reachsumit.com\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Sumit Kumar"
            },"description": "Identifying patterns among questions is quite an effective strategy when you are grinding LeetCode in preparation for your upcoming software engineering interviews. In this article, you will develop intuitions about Sliding Window pattern. You will also get a template approach to write code to solve these problems. I will also walk you through some LeetCode questions to show how to apply the template and at the end, there will be some LeetCode exercises for you to practice what you learn."
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Sumit&#39;s Diary"><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search this blog" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Sumit&#39;s Diary"><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search this blog" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Effective LeetCode: Understanding the Sliding Window Pattern</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://reachsumit.com" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Sumit Kumar</a></span>&nbsp;<span class="post-category">included in <a href="/categories/software-engineering/"><i class="far fa-folder fa-fw"></i>Software Engineering</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-10-26">2020-10-26</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;2828 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;14 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#why-should-one-focus-on-programming-question-patterns">Why Should One Focus on Programming Question Patterns?</a></li>
    <li><a href="#sliding-window-pattern">Sliding Window Pattern</a>
      <ul>
        <li><a href="#an-intuitive-analogy">An Intuitive Analogy</a></li>
        <li><a href="#the-sliding-window-approach">The Sliding Window Approach</a></li>
      </ul>
    </li>
    <li><a href="#solving-leetcode-problems-with-sliding-window-pattern">Solving LeetCode Problems with Sliding Window Pattern</a>
      <ul>
        <li><a href="#leetcode-1004-max-consecutive-ones-iii">LeetCode 1004: Max Consecutive Ones III</a></li>
        <li><a href="#leetcode-1358-number-of-substrings-containing-all-three-characters">LeetCode 1358: Number of Substrings Containing All Three Characters</a></li>
        <li><a href="#leetcode-904-fruit-into-baskets">LeetCode 904: Fruit Into Baskets</a></li>
      </ul>
    </li>
    <li><a href="#summing-up">Summing Up</a></li>
    <li><a href="#exercise-for-the-readers">Exercise for the Readers</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Identifying patterns among questions is quite an effective strategy when you are grinding LeetCode in preparation for your upcoming software engineering interviews. In this article, you will develop intuitions about Sliding Window pattern. You will also get a template approach to write code to solve these problems. I will also walk you through some LeetCode questions to show how to apply the template and at the end, there will be some LeetCode exercises for you to practice what you learn.</p>
<h2 id="why-should-one-focus-on-programming-question-patterns">Why Should One Focus on Programming Question Patterns?</h2>
<p>Whether you like them or not, solving programming challenges is a prevalent part of software engineering interviews. Most newbies and seasoned developers turn to <a href="https://leetcode.com/" target="_blank" rel="noopener noreffer">leetcode.com</a> to find a wide set of questions and discussion forums to help their interview preparations. However, many are baffled upon finding a more than a thousand questions on the website and not knowing where to start from. Many people in LeetCode and other discussion forums have shared their learning paths with other learners in the form of compiled list of questions that vary from difficulty level, question types, interviewing company and so on. A common occurring themes among those recommendations is to spend time on identifying patterns among questions. It helps in reinforcing your brain to think about the solution in more general terms so that you don&rsquo;t have to cram your memory with specific details for individual questions. This way you will be better prepared to take on such programming challenges that may quiz you on a diverse range of Data Structure and Algorithm questions.</p>
<p>Through a series of articles on these patterns, I will share the tips and tricks from what I have learned while solving LeetCode problems. And hopefully it will help you to prepare more effectively and faster for your software programming rounds of interviews.</p>
<h2 id="sliding-window-pattern">Sliding Window Pattern</h2>
<p>Generally speaking, in sliding window problems, you would be given a sequence of values, and your task will be to return the best solution given a limiting constraint. The best solution would be defined in terms of a maximum or minimum value that occurs in a range or &ldquo;window&rdquo; over the given sequence. I know, it sounds a bit too generic. So, let&rsquo;s try to materialize the idea with a fun example.</p>
<h3 id="an-intuitive-analogy">An Intuitive Analogy</h3>
<p>Let&rsquo;s assume you are playing an Animal-Crossing-meets-SIMS game. And you are in-charge of many cute little characters currently living on different islands in the game doing some fun tasks.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/intro.png"
        data-srcset="/img/posts/leetcode-sliding-window/intro.png, /img/posts/leetcode-sliding-window/intro.png 1.5x, /img/posts/leetcode-sliding-window/intro.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/intro.png"
        title="Islands intro" /></p>
<p>This game allows these characters to collaborate such that they can visit other islands and do tasks together. However, in order to connect any two islands, you will have to make some standard-length connecting bridges. And, some of the islands may be farther away from each other, so they may require more than one connecting bridge. For simplicity, we are going to assume that the islands are located linearly as shown in the figure.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/intro_bridges.png"
        data-srcset="/img/posts/leetcode-sliding-window/intro_bridges.png, /img/posts/leetcode-sliding-window/intro_bridges.png 1.5x, /img/posts/leetcode-sliding-window/intro_bridges.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/intro_bridges.png"
        title="Bridges intro" /></p>
<p>As you play new quests in the game, and finish daily tasks, you can unlock more of these connecting bridges. But at any given point of time, you will have a limited number of bridges in your collection.</p>
<p>Now your task is to use the available bridge count and connect the islands such that you end up with maximum possible number of characters connected with each other.</p>
<p>Say if you had 2 bridges available, would you choose move 1 or move 2 from below?</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/two_actions.png"
        data-srcset="/img/posts/leetcode-sliding-window/two_actions.png, /img/posts/leetcode-sliding-window/two_actions.png 1.5x, /img/posts/leetcode-sliding-window/two_actions.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/two_actions.png"
        title="The two moves" /></p>
<p>With move 1, you connect the first two islands and the two characters on those islands together. However, with move 2, you connect the last three islands and four of your characters together. So the second move give you the best answer. As an exercise, can you think of any other moves in the above setting? What results would you get in those?</p>
<p>While thinking of a solution to the above questions, you were given a constraint (limited number of available bridges) and you found an optimized solution (maximum number of characters connected). Because there were a limited number of islands and characters, you were able to simply eyeball and easily come up with a solution that was the best with the given constraint. But as you can imagine, the things can get a lot trickier if you have tens of thousands of islands with thousands of characters living on them and maybe hundreds of bridges available at your disposal. So, let&rsquo;s summon the coder in you and formulate this problem as a programming challenge.</p>
<h3 id="the-sliding-window-approach">The Sliding Window Approach</h3>
<p>First, we are going to represent the arrangement of islands, bridges and characters in terms of a sequence of values, i.e. an array. So, let&rsquo;s assume that an index in array with value -1 mean an empty location between islands where you could build a bridge, value 0 signifies the presence of a bridge at that location, and any other number is simply a count of the number of characters on the island at that index.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/make_array.png"
        data-srcset="/img/posts/leetcode-sliding-window/make_array.png, /img/posts/leetcode-sliding-window/make_array.png 1.5x, /img/posts/leetcode-sliding-window/make_array.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/make_array.png"
        title="Make It Array" /></p>
<p>So your goal is to find the maximum count for connected characters given a fixed number of bridges, B (for example, B=2). Before jumping into code, we need to first develop solid intuitions about Sliding Window approach and how it can help us in this problem.</p>
<p>As you saw in the last section, we got our solution from a contiguous subsequence, i.e. a subarray.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/subarray.png"
        data-srcset="/img/posts/leetcode-sliding-window/subarray.png, /img/posts/leetcode-sliding-window/subarray.png 1.5x, /img/posts/leetcode-sliding-window/subarray.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/subarray.png"
        title="The subarray" /></p>
<p>This subarray highlighted in red, is what we call a window. The left end, L, of the window is at index 3 and right end, R, is at index 7 (assuming index start at 0). This window spans over 5 array elements, so we can also say that the window length is 5. In Sliding Window pattern problems, we will calculate multiple solutions over varying length of the window, but we will only save the most optimal solution.</p>
<p>A naïve approach could be to evaluate the input array for all possible length of windows, i.e. all possible placements for windows of length 1, 2, 3, 4, &hellip; , 8 (size of array), and calculate the result for each window, but save only the optimal value (maximum, in our example). However, as any seasoned LeetCode-er will tell you, your program will easily hit a Time Limit Exceeded wall even with a moderate sized array, because you have way too many potential solutions in your search space. So we need a better solution.</p>
<p>Let&rsquo;s solve the above problem that had a constraint of 2 bridges with a Sliding Window approach.</p>
<p>In a sliding Window based solution, we will generally start from the left of the array and with a window of size 1, i.e. both the left and right ends, L and R respectively, of the window will be at index 0. At each step, we also calculate the current answer, i.e. the current number of connected characters inside the window, and save the most optimal solution, i.e. the maximum count so far.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_1.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_1.png, /img/posts/leetcode-sliding-window/step_1.png 1.5x, /img/posts/leetcode-sliding-window/step_1.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_1.png"
        title="step 1" /></p>
<p>Now, let&rsquo;s expand the window by moving the right end, R, as much as our constraint allows us (<em>think of this as an outer loop in the code</em>). The constraint in this example being the count of available bridges (B = 2).</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_1.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_1.png, /img/posts/leetcode-sliding-window/step_2_1.png 1.5x, /img/posts/leetcode-sliding-window/step_2_1.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_1.png"
        title="step 2_1" /></p>
<p>We used one bridge, but we do have one more left. So we keep expanding to right.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_2.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_2.png, /img/posts/leetcode-sliding-window/step_2_2.png 1.5x, /img/posts/leetcode-sliding-window/step_2_2.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_2.png"
        title="step 2_2" /></p>
<p>We are out of bridges to use, but we can still move to the right, as there&rsquo;s an island there and our constraint will still hold (max 2 bridges).</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_3.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_3.png, /img/posts/leetcode-sliding-window/step_2_3.png 1.5x, /img/posts/leetcode-sliding-window/step_2_3.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_3.png"
        title="step 2_3" /></p>
<p>We now have 2 connected characters, which is also our best answer so far. But we also have a problem, we can&rsquo;t move to the right because that&rsquo;s an empty slot and we are out of bridges to use. So now we will start to shrink our window from the left marker one step at a time, and keep doing it until we are allowed to move R to the right and still satisfy our constraint (<em>think of it as another loop inside the outer one</em>).</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_4.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_4.png, /img/posts/leetcode-sliding-window/step_2_4.png 1.5x, /img/posts/leetcode-sliding-window/step_2_4.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_4.png"
        title="step 2_4" /></p>
<p>At this point, we still can&rsquo;t move R to the right, because we are out of bridges. So let&rsquo;s move L to the right one more time and reclaim one bridge.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_5.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_5.png, /img/posts/leetcode-sliding-window/step_2_5.png 1.5x, /img/posts/leetcode-sliding-window/step_2_5.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_5.png"
        title="step 2_5" /></p>
<p>Now we&rsquo;re back on track. Moving R to the right requires a new bridge, but we do have that in inventory.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_6.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_6.png, /img/posts/leetcode-sliding-window/step_2_6.png 1.5x, /img/posts/leetcode-sliding-window/step_2_6.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_6.png"
        title="step 2_6" /></p>
<p>Moving R to the right is still valid, so let&rsquo;s do it.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_7.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_7.png, /img/posts/leetcode-sliding-window/step_2_7.png 1.5x, /img/posts/leetcode-sliding-window/step_2_7.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_7.png"
        title="step 2_7" /></p>
<p>Moving R requires a bridge. So we go back to moving L to the right, and reclaim one bridge with the very first move.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_8.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_8.png, /img/posts/leetcode-sliding-window/step_2_8.png 1.5x, /img/posts/leetcode-sliding-window/step_2_8.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_8.png"
        title="step 2_8" /></p>
<p>Moving R will make us use the bridge that we have in inventory.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_9.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_9.png, /img/posts/leetcode-sliding-window/step_2_9.png 1.5x, /img/posts/leetcode-sliding-window/step_2_9.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_9.png"
        title="step 2_9" /></p>
<p>We can still move R more to the right.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/step_2_10.png"
        data-srcset="/img/posts/leetcode-sliding-window/step_2_10.png, /img/posts/leetcode-sliding-window/step_2_10.png 1.5x, /img/posts/leetcode-sliding-window/step_2_10.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/step_2_10.png"
        title="step 2_10" /></p>
<p>We can&rsquo;t move R anymore. That brings us to the end of our algorithm. The best answer that we have is 4, which is also the most optimal answer. 😊</p>
<p><strong>Notice the followings:</strong></p>
<ul>
<li>We started with 2 markers left (L) and right (R) at index 0</li>
<li>R moved to the right towards the end of the array (we can use an outer loop for this)</li>
<li>Inside the above looping process, if we hit a state where moving R will force us to break the constraint, we move L to the right till we reach a state where R can be moved again (we can use another loop here)</li>
<li>At each state during this process, we save the current answer and update the best answer variable if this value is better than the previous one</li>
</ul>
<p>You can also think of the approach in terms of a template like this:</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/leetcode-sliding-window/template.png"
        data-srcset="/img/posts/leetcode-sliding-window/template.png, /img/posts/leetcode-sliding-window/template.png 1.5x, /img/posts/leetcode-sliding-window/template.png 2x"
        data-sizes="auto"
        alt="/img/posts/leetcode-sliding-window/template.png"
        title="template" /></p>
<p>&hellip; and that&rsquo;s it. That&rsquo;s all you need to write a program that uses Sliding Window approach to find an optimal solution. Let&rsquo;s make this understanding more concrete with the help of an actual LeetCode question.</p>
<h2 id="solving-leetcode-problems-with-sliding-window-pattern">Solving LeetCode Problems with Sliding Window Pattern</h2>
<h3 id="leetcode-1004-max-consecutive-ones-iii">LeetCode 1004: Max Consecutive Ones III</h3>
<p>Let&rsquo;s try to apply what we you have learned above and solve this LeetCode problem: <a href="https://leetcode.com/problems/max-consecutive-ones-iii/">https://leetcode.com/problems/max-consecutive-ones-iii/</a></p>
<p>You are given an array input that has 0s and 1s. You are given a constraint that you can change only K number of values from 0 to 1. And, your task is to find the longest subarray that contains only 1s.</p>
<p>So, we are looking for the maximum window size (i.e. R - L + 1), such that the window contains all 1s, and given the constraint that we can change up to K number of values in the window from 0 to 1.</p>
<p>Let&rsquo;s first setup some basic variables:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">current_change_count</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># This is our &#34;inventory&#34;, i.e. a count for the number of changes from 0 to 1</span>
<span class="n">L</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># This is the left marker of our Sliding Window</span>
<span class="n">answer</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="c1"># This is the variable that will store the best answer</span>
</code></pre></td></tr></table>
</div>
</div><p>Based on the earlier template, we need an outer loop, that will move R to the right.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">R</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)):</span> <span class="c1"># Here A is the input array</span>
	<span class="o">...</span>
</code></pre></td></tr></table>
</div>
</div><p>Inside the for loop, we need to update our &ldquo;inventory&rdquo;, i.e. current_change_count, if required i.e. if the value of the current position is 0, we need to make it 1 to include it in the window</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">R</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">current_change_count</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><p>And we need an inner loop to move L to the right, if required i.e. if the constraint &ldquo;current_change_count &lt;= K&rdquo;  doesn&rsquo;t hold.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">while</span> <span class="n">current_change_count</span> <span class="o">&gt;</span> <span class="n">K</span> <span class="ow">and</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">L</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">current_change_count</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="n">L</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><p>Finally we save the current answer as the best answer, if required, i.e. if the current window length (R-L+1) is greater than answer.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">answer</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">answer</span><span class="p">,</span> <span class="n">R</span><span class="o">-</span><span class="n">L</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>So, our complete solution will be:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestOnes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">K</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">A</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
                
        <span class="n">current_change_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">L</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">answer</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        
        <span class="k">for</span> <span class="n">R</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">R</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">current_change_count</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="k">while</span> <span class="n">current_change_count</span> <span class="o">&gt;</span> <span class="n">K</span> <span class="ow">and</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">L</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">current_change_count</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">L</span> <span class="o">+=</span> <span class="mi">1</span>
                
            <span class="n">answer</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">answer</span><span class="p">,</span> <span class="n">R</span><span class="o">-</span><span class="n">L</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">answer</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="leetcode-1358-number-of-substrings-containing-all-three-characters">LeetCode 1358: Number of Substrings Containing All Three Characters</h3>
<p>Let&rsquo;s take another example: <a href="https://leetcode.com/problems/number-of-substrings-containing-all-three-characters/">https://leetcode.com/problems/number-of-substrings-containing-all-three-characters/</a></p>
<p>A valid window in this case is the one that satisfies the constraint that all of the three characters &lsquo;a&rsquo;, &lsquo;b&rsquo; and &lsquo;c&rsquo; are at least once present in the window.</p>
<p>Let&rsquo;s setup some basic variables:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">current_answer</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">looking_for</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="c1"># We will save the count of &#39;a&#39;, &#39;b&#39; and &#39;c&#39; occurances in the window on the 3 indexes in this array/list</span>
<span class="n">L</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">best_answer</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></td></tr></table>
</div>
</div><p>The outer loop will simply be:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">R</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></td></tr></table>
</div>
</div><p>Our inventory, in this case, keeps track of the count of &lsquo;a&rsquo;, &lsquo;b&rsquo; and &lsquo;c&rsquo; in &ldquo;looking_for&rdquo; list. Since we know each character in the input will be one of the three characters, we can directly update the index like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">looking_for</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">-</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)]</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><p>and the inner loop will move L to the right if the window has &lsquo;a&rsquo;, &lsquo;b&rsquo; and &lsquo;c&rsquo; occurring at least once.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">while</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="ow">and</span> <span class="n">looking_for</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">looking_for</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">looking_for</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
    <span class="n">looking_for</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">L</span><span class="p">])</span><span class="o">-</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)]</span> <span class="o">-=</span> <span class="mi">1</span> <span class="c1"># subtract count for the character at L</span>
    <span class="n">L</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">current_answer</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><p>The optimal answer will simply add up the overall answers found in the Sliding Window.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">best_answer</span> <span class="o">+=</span> <span class="n">current_answer</span>
</code></pre></td></tr></table>
</div>
</div><p>So, our complete solution will be:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numberOfSubstrings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        
        <span class="n">current_answer</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">looking_for</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">L</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">best_answer</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">R</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">looking_for</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">-</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)]</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="k">while</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="ow">and</span> <span class="n">looking_for</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">looking_for</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">looking_for</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                <span class="n">looking_for</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">L</span><span class="p">])</span><span class="o">-</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)]</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">L</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">current_answer</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="n">best_answer</span> <span class="o">+=</span> <span class="n">current_answer</span>
        
        <span class="k">return</span> <span class="n">best_answer</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="leetcode-904-fruit-into-baskets">LeetCode 904: Fruit Into Baskets</h3>
<p>Let&rsquo;s solve yet another LeetCode question with this approach: <a href="https://leetcode.com/problems/fruit-into-baskets/">https://leetcode.com/problems/fruit-into-baskets/</a></p>
<p>In this problem, we maintain an inventory of two baskets with a each count containing a fruit type (kind of a &ldquo;key&rdquo;), and a fruit count (kind of a &ldquo;value&rdquo;), so we can simply make it a hashmap, i.e. a Python dictionary. The constraint here is that we can only have maximum 2 baskets, with each having a unique fruit type. Our goal is to find the maximum count of fruits in both baskets.</p>
<p>First, we setup some basic variables:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">L</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">inventory_hashmap</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">best_answer</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></td></tr></table>
</div>
</div><p>Then we setup an outer loop for moving R.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">R</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="p">)):</span>
    <span class="o">...</span>
</code></pre></td></tr></table>
</div>
</div><p>We update the inventory, i.e. our hashmap with keys representing the fruit type and the values representing the number of fruits picked during current window.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">R</span><span class="p">]]</span> <span class="o">=</span> <span class="n">inventory_hashmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">R</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><p>Next, we move L to the right, and remove the corresponding count and fruit type from the inventory, if the constraint is broken.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">while</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">inventory_hashmap</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">L</span><span class="p">]]</span><span class="o">-=</span> <span class="mi">1</span>                
    <span class="k">if</span> <span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">L</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">L</span><span class="p">]]</span>
        <span class="n">L</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><p>Finally, we update the best answer by finding the maximum value between the best answer so far, and the current number of fruits in our inventory.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">best_answer</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">best_answer</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="n">inventory_hashmap</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
</code></pre></td></tr></table>
</div>
</div><p>Adding all the components together, our solution will be this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">totalFruit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        
        <span class="n">L</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">inventory_hashmap</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">best_answer</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">R</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="p">)):</span>
            <span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">R</span><span class="p">]]</span> <span class="o">=</span> <span class="n">inventory_hashmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">R</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            
            <span class="k">while</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">inventory_hashmap</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">L</span><span class="p">]]</span><span class="o">-=</span> <span class="mi">1</span>                
                <span class="k">if</span> <span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">L</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">del</span> <span class="n">inventory_hashmap</span><span class="p">[</span><span class="n">tree</span><span class="p">[</span><span class="n">L</span><span class="p">]]</span>
                <span class="n">L</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="n">best_answer</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">best_answer</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="n">inventory_hashmap</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
        
        <span class="k">return</span> <span class="n">best_answer</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="summing-up">Summing Up</h2>
<p>I hope these examples were good enough to drive home the intuitions required to build a Sliding Window based solution. I would also like to point out that the template that I talked explained in this article is the most common strategy with Sliding Window problems, however it is not the only kind of Sliding Window approach. As you saw, in our template, the right marker R moves faster than the left marker L, therefore this approach is sometimes referred to as Fast/Slow Sliding Window approach. There are other approaches like Fast/Catch-Up and Front/Back that I will talk about in a future post.</p>
<h2 id="exercise-for-the-readers">Exercise for the Readers</h2>
<p>If you want to apply what you have learned in this article, and solve a few LeetCode challenges, then you can try your hand on the following Sliding Window  problems on LeetCode website:</p>
<ul>
<li><a href="https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/">https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/</a></li>
<li><a href="https://leetcode.com/problems/number-of-substrings-containing-all-three-characters/">https://leetcode.com/problems/number-of-substrings-containing-all-three-characters/</a></li>
<li><a href="https://leetcode.com/problems/replace-the-substring-for-balanced-string/">https://leetcode.com/problems/replace-the-substring-for-balanced-string/</a></li>
<li><a href="https://leetcode.com/problems/max-consecutive-ones-iii/">https://leetcode.com/problems/max-consecutive-ones-iii/</a></li>
<li><a href="https://leetcode.com/problems/subarrays-with-k-different-integers/">https://leetcode.com/problems/subarrays-with-k-different-integers/</a></li>
<li><a href="https://leetcode.com/problems/fruit-into-baskets/">https://leetcode.com/problems/fruit-into-baskets/</a></li>
<li><a href="https://leetcode.com/problems/get-equal-substrings-within-budget/">https://leetcode.com/problems/get-equal-substrings-within-budget/</a></li>
<li><a href="https://leetcode.com/problems/longest-repeating-character-replacement/">https://leetcode.com/problems/longest-repeating-character-replacement/</a></li>
<li><a href="https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/">https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/</a></li>
<li><a href="https://leetcode.com/problems/minimum-size-subarray-sum/">https://leetcode.com/problems/minimum-size-subarray-sum/</a></li>
<li><a href="https://leetcode.com/problems/sliding-window-maximum/">https://leetcode.com/problems/sliding-window-maximum/</a></li>
</ul>
<p>I also want to thank the LeetCode user <a href="https://leetcode.com/wh0ami/" target="_blank" rel="noopener noreffer">wh0ami</a> for compiling this list of questions and sharing this idea, in his C++ post at LeetCode discussion forums <a href="https://leetcode.com/discuss/general-discussion/657507/sliding-window-for-beginners-problems-template-sample-solutions/" target="_blank" rel="noopener noreffer">here</a>.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-10-29</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-title="Effective LeetCode: Understanding the Sliding Window Pattern" data-via="_reachsumit" data-hashtags="leetcode,algorithms"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-hashtag="leetcode"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-title="Effective LeetCode: Understanding the Sliding Window Pattern" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-title="Effective LeetCode: Understanding the Sliding Window Pattern"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-title="Effective LeetCode: Understanding the Sliding Window Pattern"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="Share on Pocket" data-sharer="pocket" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/"><i class="fab fa-get-pocket fa-fw"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-title="Effective LeetCode: Understanding the Sliding Window Pattern"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="Share on Evernote" data-sharer="evernote" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-title="Effective LeetCode: Understanding the Sliding Window Pattern"><i class="fab fa-evernote fa-fw"></i></a><a href="javascript:void(0);" title="Share on Trello" data-sharer="trello" data-url="https://blog.reachsumit.com/posts/2020/10/leetcode-sliding-window/" data-title="Effective LeetCode: Understanding the Sliding Window Pattern" data-description="Identifying patterns among questions is quite an effective strategy when you are grinding LeetCode in preparation for your upcoming software engineering interviews. In this article, you will develop intuitions about Sliding Window pattern. You will also get a template approach to write code to solve these problems. I will also walk you through some LeetCode questions to show how to apply the template and at the end, there will be some LeetCode exercises for you to practice what you learn."><i class="fab fa-trello fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/leetcode/">leetcode</a>,&nbsp;<a href="/tags/algorithms/">algorithms</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/2020/07/twitter-search-redesign/" class="prev" rel="prev" title="How Twitter Reduced Search Indexing Latency to One Second"><i class="fas fa-angle-left fa-fw"></i>How Twitter Reduced Search Indexing Latency to One Second</a>
            <a href="/posts/2020/12/generating-empathetic-responses/" class="next" rel="next" title="Towards Empathetic Dialogue Systems">Towards Empathetic Dialogue Systems<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://reachsumit.com" target="_blank">Sumit Kumar</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css"><script type="text/javascript" src="https://reachsumit-blog.disqus.com/embed.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":30},"comment":{},"data":{"id-1":"Sumit's Diary","id-2":"Sumit's Diary"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"LV11CUNTAX","algoliaIndex":"blog_reachsumit","algoliaSearchKey":"98d868016771f8a06b967e7eb3eaf63a","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":2700,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-171612692-1');
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-171612692-1" async></script></body>
</html>
